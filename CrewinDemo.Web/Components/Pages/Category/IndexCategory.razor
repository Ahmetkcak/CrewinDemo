@page "/category"

<h3>Category List</h3>

@if (Categories == null)
{
    <p>Loading...</p>
}
else
{
    <div class="alert alert-info alert-dismissible fade show" role="alert" id="infoAlert">
        <strong>Information:</strong> Categories have been loaded successfully.
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

    <ul class="list-group">
        @foreach (var category in Categories)
        {
            <li class="list-group-item">
                <a href=@($"product/{category.Slug}") class="stretched-link">
                    @category.Name
                </a>
            </li>
        }
    </ul>

    <div class="text-end mt-3 mb-3">
        <a href="/category/new" class="btn btn-primary">New Category</a>
    </div>
}

<script>
    document.addEventListener('DOMContentLoaded', function () {
        setTimeout(function () {
            var alertElement = document.getElementById('infoAlert');
            if (alertElement) {
                var alert = new bootstrap.Alert(alertElement);
                alert.close();
            }
        }, 5000);
    });
</script>